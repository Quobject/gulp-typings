/// <reference path="./typings/main.d.ts" />
var plugins = {
    beautylog: require("beautylog"),
    path: require("path"),
    through2: require("through2"),
    typingsCore: require("typings-core")
};
var forEach = function (file, enc, cb) {
    plugins.typingsCore.install({ production: false, cwd: plugins.path.dirname(file.path) })
        .then(function () {
        cb(null, file);
    }, function () {
        plugins.beautylog.error("something went wrong: Check if path is correct: " + file.path.blue);
        cb(null, file);
    });
};
var atEnd = function (cb) {
    cb();
};
module.exports = function () {
    return plugins.through2.obj(forEach, atEnd);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDRDQUE0QztBQUM1QyxJQUFJLE9BQU8sR0FBRztJQUNWLFNBQVMsRUFBRSxPQUFPLENBQUMsV0FBVyxDQUFDO0lBQy9CLElBQUksRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDO0lBQ3JCLFFBQVEsRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQzdCLFdBQVcsRUFBRSxPQUFPLENBQUMsY0FBYyxDQUFDO0NBQ3ZDLENBQUM7QUFFRixJQUFJLE9BQU8sR0FBRyxVQUFTLElBQUksRUFBQyxHQUFHLEVBQUMsRUFBRTtJQUM5QixPQUFPLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFDLFVBQVUsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDO1NBQ2pGLElBQUksQ0FBQztRQUNGLEVBQUUsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEIsQ0FBQyxFQUFDO1FBQ0UsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsa0RBQWtELEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3RixFQUFFLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLENBQUMsQ0FBQyxDQUFDO0FBQ1gsQ0FBQyxDQUFDO0FBRUYsSUFBSSxLQUFLLEdBQUcsVUFBUyxFQUFFO0lBQ25CLEVBQUUsRUFBRSxDQUFDO0FBQ1QsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRztJQUNiLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsS0FBSyxDQUFDLENBQUM7QUFDL0MsQ0FBQyxDQUFDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHlwaW5ncy9tYWluLmQudHNcIiAvPlxudmFyIHBsdWdpbnMgPSB7XG4gICAgYmVhdXR5bG9nOiByZXF1aXJlKFwiYmVhdXR5bG9nXCIpLFxuICAgIHBhdGg6IHJlcXVpcmUoXCJwYXRoXCIpLFxuICAgIHRocm91Z2gyOiByZXF1aXJlKFwidGhyb3VnaDJcIiksXG4gICAgdHlwaW5nc0NvcmU6IHJlcXVpcmUoXCJ0eXBpbmdzLWNvcmVcIilcbn07XG5cbnZhciBmb3JFYWNoID0gZnVuY3Rpb24oZmlsZSxlbmMsY2Ipe1xuICAgIHBsdWdpbnMudHlwaW5nc0NvcmUuaW5zdGFsbCh7cHJvZHVjdGlvbjogZmFsc2UsIGN3ZDogcGx1Z2lucy5wYXRoLmRpcm5hbWUoZmlsZS5wYXRoKX0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBjYihudWxsLGZpbGUpO1xuICAgICAgICB9LGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBwbHVnaW5zLmJlYXV0eWxvZy5lcnJvcihcInNvbWV0aGluZyB3ZW50IHdyb25nOiBDaGVjayBpZiBwYXRoIGlzIGNvcnJlY3Q6IFwiICsgZmlsZS5wYXRoLmJsdWUpO1xuICAgICAgICAgICAgY2IobnVsbCxmaWxlKTtcbiAgICAgICAgfSk7XG59O1xuXG52YXIgYXRFbmQgPSBmdW5jdGlvbihjYil7XG4gICAgY2IoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBsdWdpbnMudGhyb3VnaDIub2JqKGZvckVhY2gsYXRFbmQpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
