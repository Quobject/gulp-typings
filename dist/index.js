"use strict";
/// <reference path="./typings/main.d.ts" />
var plugins = {
    beautylog: require("beautylog"),
    path: require("path"),
    through2: require("through2"),
    typingsCore: require("typings-core")
};
var forEach = function (file, enc, cb) {
    plugins.typingsCore.install({ production: false, cwd: plugins.path.dirname(file.path) })
        .then(function () {
        cb(null, file);
    }, function () {
        plugins.beautylog.error("something went wrong: Check if path is correct: " + file.path.blue);
        cb(null, file);
    });
};
var atEnd = function (cb) {
    cb();
};
module.exports = function (optionsArg) {
    return plugins.through2.obj(forEach, atEnd);
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0Q0FBNEM7QUFDNUMsSUFBSSxPQUFPLEdBQUc7SUFDVixTQUFTLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQztJQUMvQixJQUFJLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQztJQUNyQixRQUFRLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUM3QixXQUFXLEVBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBQztDQUN2QyxDQUFDO0FBRUYsSUFBSSxPQUFPLEdBQUcsVUFBUyxJQUFJLEVBQUMsR0FBRyxFQUFDLEVBQUU7SUFDOUIsT0FBTyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBQyxVQUFVLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQztTQUNqRixJQUFJLENBQUM7UUFDRixFQUFFLENBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLENBQUMsRUFBQztRQUNFLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLGtEQUFrRCxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0YsRUFBRSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixDQUFDLENBQUMsQ0FBQztBQUNYLENBQUMsQ0FBQztBQUVGLElBQUksS0FBSyxHQUFHLFVBQVMsRUFBRTtJQUNuQixFQUFFLEVBQUUsQ0FBQztBQUNULENBQUMsQ0FBQztBQUVGLGlCQUFTLFVBQVMsVUFBVztJQUN6QixNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEtBQUssQ0FBQyxDQUFDO0FBQy9DLENBQUMsQ0FBQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3R5cGluZ3MvbWFpbi5kLnRzXCIgLz5cbmxldCBwbHVnaW5zID0ge1xuICAgIGJlYXV0eWxvZzogcmVxdWlyZShcImJlYXV0eWxvZ1wiKSxcbiAgICBwYXRoOiByZXF1aXJlKFwicGF0aFwiKSxcbiAgICB0aHJvdWdoMjogcmVxdWlyZShcInRocm91Z2gyXCIpLFxuICAgIHR5cGluZ3NDb3JlOiByZXF1aXJlKFwidHlwaW5ncy1jb3JlXCIpXG59O1xuXG5sZXQgZm9yRWFjaCA9IGZ1bmN0aW9uKGZpbGUsZW5jLGNiKXtcbiAgICBwbHVnaW5zLnR5cGluZ3NDb3JlLmluc3RhbGwoe3Byb2R1Y3Rpb246IGZhbHNlLCBjd2Q6IHBsdWdpbnMucGF0aC5kaXJuYW1lKGZpbGUucGF0aCl9KVxuICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgY2IobnVsbCxmaWxlKTtcbiAgICAgICAgfSxmdW5jdGlvbigpe1xuICAgICAgICAgICAgcGx1Z2lucy5iZWF1dHlsb2cuZXJyb3IoXCJzb21ldGhpbmcgd2VudCB3cm9uZzogQ2hlY2sgaWYgcGF0aCBpcyBjb3JyZWN0OiBcIiArIGZpbGUucGF0aC5ibHVlKTtcbiAgICAgICAgICAgIGNiKG51bGwsZmlsZSk7XG4gICAgICAgIH0pO1xufTtcblxubGV0IGF0RW5kID0gZnVuY3Rpb24oY2Ipe1xuICAgIGNiKCk7XG59O1xuXG5leHBvcnQgPSBmdW5jdGlvbihvcHRpb25zQXJnPykge1xuICAgIHJldHVybiBwbHVnaW5zLnRocm91Z2gyLm9iaihmb3JFYWNoLGF0RW5kKTtcbn07XG4iXX0=
